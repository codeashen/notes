(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{415:function(s,t,a){"use strict";a.r(t);var n=a(4),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"pod-æ¦‚è¿°"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pod-æ¦‚è¿°"}},[s._v("#")]),s._v(" Pod æ¦‚è¿°")]),s._v(" "),t("h2",{attrs:{id:"ä»€ä¹ˆæ˜¯pod"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯pod"}},[s._v("#")]),s._v(" ä»€ä¹ˆæ˜¯Podï¼Ÿ")]),s._v(" "),t("p",[s._v("Pod å¯ç®€å•åœ°ç†è§£ä¸ºæ˜¯ä¸€ç»„ã€ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ï¼Œå…·æœ‰å…±äº«å­˜å‚¨/ç½‘ç»œåŠå¦‚ä½•è¿è¡Œå®¹å™¨çš„è§„èŒƒã€‚Pod åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªç›¸å¯¹ç´§å¯†è€¦åˆçš„åº”ç”¨ç¨‹åºå®¹å™¨ï¼Œå¤„äºåŒä¸€ä¸ª Pod ä¸­çš„å®¹å™¨å…±äº«åŒæ ·çš„å­˜å‚¨ç©ºé—´ï¼ˆVolumeï¼Œå·æˆ–å­˜å‚¨å·ï¼‰ã€IP åœ°å€å’Œ Port ç«¯å£ï¼Œå®¹å™¨ä¹‹é—´ä½¿ç”¨ localhost:port ç›¸äº’è®¿é—®ã€‚æ ¹æ® Docker çš„æ„é€ ï¼ŒPod å¯è¢«å»ºæ¨¡ä¸ºä¸€ç»„å…·æœ‰å…±äº«å‘½ä»¤ç©ºé—´ã€å·ã€IP åœ°å€å’Œ Port ç«¯å£çš„ Docker å®¹å™¨ã€‚")]),s._v(" "),t("p",[s._v("Pod åŒ…å«çš„å®¹å™¨æœ€å¥½æ˜¯ä¸€ä¸ªå®¹å™¨åªè¿è¡Œä¸€ä¸ªè¿›ç¨‹ã€‚æ¯ä¸ª Pod åŒ…å«ä¸€ä¸ª pause å®¹å™¨ï¼Œpause å®¹å™¨æ˜¯ Pod çš„çˆ¶å®¹å™¨ï¼Œå®ƒä¸»è¦è´Ÿè´£åƒµå°¸è¿›ç¨‹çš„å›æ”¶ç®¡ç†ã€‚")]),s._v(" "),t("p",[s._v("Kubernetes ä¸ºæ¯ä¸ª Pod éƒ½åˆ†é…ä¸€ä¸ªå”¯ä¸€çš„ IP åœ°å€ï¼Œè¿™æ ·å°±å¯ä»¥ä¿è¯åº”ç”¨ç¨‹åºä½¿ç”¨åŒä¸€ç«¯å£ï¼Œé¿å…äº†å‘ç”Ÿå†²çªçš„é—®é¢˜ã€‚")]),s._v(" "),t("h2",{attrs:{id:"podå­—æ®µè§£æ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#podå­—æ®µè§£æ"}},[s._v("#")]),s._v(" Podå­—æ®µè§£æ")]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" v1  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¿…é€‰ï¼ŒAPIçš„ç‰ˆæœ¬å·")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Pod       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¿…é€‰ï¼Œç±»å‹Pod")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¿…é€‰ï¼Œå…ƒæ•°æ®")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" nginx   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¿…é€‰ï¼Œç¬¦åˆRFC 1035è§„èŒƒçš„Podåç§°")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("namespace")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" default "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯é€‰ï¼ŒPodæ‰€åœ¨çš„å‘½åç©ºé—´ï¼Œä¸æŒ‡å®šé»˜è®¤ä¸ºdefaultï¼Œå¯ä»¥ä½¿ç”¨-n æŒ‡å®šnamespace ")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("labels")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯é€‰ï¼Œæ ‡ç­¾é€‰æ‹©å™¨ï¼Œä¸€èˆ¬ç”¨äºè¿‡æ»¤å’ŒåŒºåˆ†Pod")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("app")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" nginx\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("role")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" frontend "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯ä»¥å†™å¤šä¸ª")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("annotations")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯é€‰ï¼Œæ³¨é‡Šåˆ—è¡¨ï¼Œå¯ä»¥å†™å¤šä¸ª")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("app")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" nginx\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¿…é€‰ï¼Œç”¨äºå®šä¹‰å®¹å™¨çš„è¯¦ç»†ä¿¡æ¯")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("initContainers")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åˆå§‹åŒ–å®¹å™¨ï¼Œåœ¨å®¹å™¨å¯åŠ¨ä¹‹å‰æ‰§è¡Œçš„ä¸€äº›åˆå§‹åŒ–æ“ä½œ")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("command")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" sh\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("c\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(' echo "I am InitContainer for init some configuration"\n    '),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" busybox\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("imagePullPolicy")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" IfNotPresent\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" init"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("container\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("containers")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¿…é€‰ï¼Œå®¹å™¨åˆ—è¡¨")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" nginx "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¿…é€‰ï¼Œç¬¦åˆRFC 1035è§„èŒƒçš„å®¹å™¨åç§°")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" nginx"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("latest    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¿…é€‰ï¼Œå®¹å™¨æ‰€ç”¨çš„é•œåƒçš„åœ°å€")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("imagePullPolicy")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Always  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯é€‰ï¼Œé•œåƒæ‹‰å–ç­–ç•¥, IfNotPresent: å¦‚æœå®¿ä¸»æœºæœ‰è¯¥é•œåƒåˆ™ä¸æ‹‰å–. Always: æ€»æ˜¯æ‹‰å–, Never: ä¸æ‹‰å–")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("command")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯é€‰ï¼Œå®¹å™¨å¯åŠ¨æ‰§è¡Œçš„å‘½ä»¤ï¼Œç›¸å½“äºé•œåƒé‡Œçš„ ENTRYPOINT, å¦‚æœæœ‰ ENTRYPOINT å¯ä»¥ä¸å†™ command")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" nginx \n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("g\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"daemon off;"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("workingDir")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" /usr/share/nginx/html       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯é€‰ï¼Œå®¹å™¨çš„å·¥ä½œç›®å½•")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("volumeMounts")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯é€‰ï¼Œå­˜å‚¨å·é…ç½®ï¼Œå¯ä»¥é…ç½®å¤šä¸ª")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" webroot "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å­˜å‚¨å·åç§°")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("mountPath")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" /usr/share/nginx/html "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŒ‚è½½ç›®å½•")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("readOnly")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åªè¯»")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ports")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯é€‰ï¼Œå®¹å™¨éœ€è¦æš´éœ²çš„ç«¯å£å·åˆ—è¡¨")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" http    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç«¯å£åç§°")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("containerPort")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç«¯å£å·")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("protocol")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" TCP "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç«¯å£åè®®ï¼Œé»˜è®¤TCP")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("env")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯é€‰ï¼Œç¯å¢ƒå˜é‡é…ç½®åˆ—è¡¨")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" TZ      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å˜é‡å")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("value")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Asia/Shanghai "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å˜é‡çš„å€¼")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" LANG\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("value")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" en_US.utf8\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("resources")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯é€‰ï¼Œèµ„æºé™åˆ¶å’Œèµ„æºè¯·æ±‚é™åˆ¶")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("limits")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æœ€å¤§é™åˆ¶è®¾ç½®")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("cpu")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 1000m\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("memory")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 1024Mi\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("requests")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯åŠ¨æ‰€éœ€çš„èµ„æº")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("cpu")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 100m\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("memory")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 512Mi\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    startupProbe: # å¯é€‰ï¼Œæ£€æµ‹å®¹å™¨å†…è¿›ç¨‹æ˜¯å¦å®Œæˆå¯åŠ¨ã€‚æ³¨æ„ä¸‰ç§æ£€æŸ¥æ–¹å¼åŒæ—¶åªèƒ½ä½¿ç”¨ä¸€ç§ã€‚")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#      httpGet:      # httpGetæ£€æµ‹æ–¹å¼ï¼Œç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨httpGetå®ç°æ¥å£çº§å¥åº·æ£€æŸ¥ï¼Œå¥åº·æ£€æŸ¥ç”±åº”ç”¨ç¨‹åºæä¾›ã€‚")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#            path: /api/successStart # æ£€æŸ¥è·¯å¾„")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#            port: 80")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("readinessProbe")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯é€‰ï¼Œå¥åº·æ£€æŸ¥ã€‚æ³¨æ„ä¸‰ç§æ£€æŸ¥æ–¹å¼åŒæ—¶åªèƒ½ä½¿ç”¨ä¸€ç§ã€‚")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("httpGet")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# httpGetæ£€æµ‹æ–¹å¼ï¼Œç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨httpGetå®ç°æ¥å£çº§å¥åº·æ£€æŸ¥ï¼Œå¥åº·æ£€æŸ¥ç”±åº”ç”¨ç¨‹åºæä¾›ã€‚")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("path")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" / "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ£€æŸ¥è·¯å¾„")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç›‘æ§ç«¯å£")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("livenessProbe")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯é€‰ï¼Œå¥åº·æ£€æŸ¥")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#exec:        # æ‰§è¡Œå®¹å™¨å‘½ä»¤æ£€æµ‹æ–¹å¼")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#command: ")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#- cat")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#- /health")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#httpGet:       # httpGetæ£€æµ‹æ–¹å¼")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#   path: /_health # æ£€æŸ¥è·¯å¾„")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#   port: 8080")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#   httpHeaders: # æ£€æŸ¥çš„è¯·æ±‚å¤´")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#   - name: end-user")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#     value: Jason ")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("tcpSocket")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç«¯å£æ£€æµ‹æ–¹å¼")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("initialDelaySeconds")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åˆå§‹åŒ–æ—¶é—´")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("timeoutSeconds")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è¶…æ—¶æ—¶é—´")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("periodSeconds")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ£€æµ‹é—´éš”")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("successThreshold")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ£€æŸ¥æˆåŠŸä¸º2æ¬¡è¡¨ç¤ºå°±ç»ª")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("failureThreshold")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ£€æµ‹å¤±è´¥1æ¬¡è¡¨ç¤ºæœªå°±ç»ª")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("lifecycle")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("postStart")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å®¹å™¨åˆ›å»ºå®Œæˆåæ‰§è¡Œçš„æŒ‡ä»¤, å¯ä»¥æ˜¯exec httpGet TCPSocket")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("exec")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("command")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" sh\n          "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("c\n          "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'mkdir /data/ '")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("preStop")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("httpGet")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("      \n              "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("path")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" /\n              "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  exec:")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    command:")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    - sh")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    - -c")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    - sleep 9")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("restartPolicy")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Always   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯é€‰ï¼Œé»˜è®¤Alwaysï¼Œå®¹å™¨æ•…éšœæˆ–è€…æ²¡æœ‰å¯åŠ¨æˆåŠŸï¼Œé‚£å°±è‡ªåŠ¨è¯¥å®¹å™¨ï¼ŒOnfailure: å®¹å™¨ä»¥ä¸ä¸º0çš„çŠ¶æ€ç»ˆæ­¢ï¼Œè‡ªåŠ¨é‡å¯è¯¥å®¹å™¨, Never:æ— è®ºä½•ç§çŠ¶æ€ï¼Œéƒ½ä¸ä¼šé‡å¯")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#nodeSelector: # å¯é€‰ï¼ŒæŒ‡å®šNodeèŠ‚ç‚¹")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#      region: subnet7")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("imagePullSecrets")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯é€‰ï¼Œæ‹‰å–é•œåƒä½¿ç”¨çš„secretï¼Œå¯ä»¥é…ç½®å¤šä¸ª")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" default"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("dockercfg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("86258")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("hostNetwork")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("false")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯é€‰ï¼Œæ˜¯å¦ä¸ºä¸»æœºæ¨¡å¼ï¼Œå¦‚æ˜¯ï¼Œä¼šå ç”¨ä¸»æœºç«¯å£")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("volumes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å…±äº«å­˜å‚¨å·åˆ—è¡¨")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" webroot "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åç§°ï¼Œä¸ä¸Šè¿°å¯¹åº”")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("emptyDir")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŒ‚è½½ç›®å½•")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#hostPath:              # æŒ‚è½½æœ¬æœºç›®å½•")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  path: /etc/hosts")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br"),t("span",{staticClass:"line-number"},[s._v("54")]),t("br"),t("span",{staticClass:"line-number"},[s._v("55")]),t("br"),t("span",{staticClass:"line-number"},[s._v("56")]),t("br"),t("span",{staticClass:"line-number"},[s._v("57")]),t("br"),t("span",{staticClass:"line-number"},[s._v("58")]),t("br"),t("span",{staticClass:"line-number"},[s._v("59")]),t("br"),t("span",{staticClass:"line-number"},[s._v("60")]),t("br"),t("span",{staticClass:"line-number"},[s._v("61")]),t("br"),t("span",{staticClass:"line-number"},[s._v("62")]),t("br"),t("span",{staticClass:"line-number"},[s._v("63")]),t("br"),t("span",{staticClass:"line-number"},[s._v("64")]),t("br"),t("span",{staticClass:"line-number"},[s._v("65")]),t("br"),t("span",{staticClass:"line-number"},[s._v("66")]),t("br"),t("span",{staticClass:"line-number"},[s._v("67")]),t("br"),t("span",{staticClass:"line-number"},[s._v("68")]),t("br"),t("span",{staticClass:"line-number"},[s._v("69")]),t("br"),t("span",{staticClass:"line-number"},[s._v("70")]),t("br"),t("span",{staticClass:"line-number"},[s._v("71")]),t("br"),t("span",{staticClass:"line-number"},[s._v("72")]),t("br"),t("span",{staticClass:"line-number"},[s._v("73")]),t("br"),t("span",{staticClass:"line-number"},[s._v("74")]),t("br"),t("span",{staticClass:"line-number"},[s._v("75")]),t("br"),t("span",{staticClass:"line-number"},[s._v("76")]),t("br"),t("span",{staticClass:"line-number"},[s._v("77")]),t("br"),t("span",{staticClass:"line-number"},[s._v("78")]),t("br"),t("span",{staticClass:"line-number"},[s._v("79")]),t("br"),t("span",{staticClass:"line-number"},[s._v("80")]),t("br"),t("span",{staticClass:"line-number"},[s._v("81")]),t("br"),t("span",{staticClass:"line-number"},[s._v("82")]),t("br"),t("span",{staticClass:"line-number"},[s._v("83")]),t("br"),t("span",{staticClass:"line-number"},[s._v("84")]),t("br"),t("span",{staticClass:"line-number"},[s._v("85")]),t("br"),t("span",{staticClass:"line-number"},[s._v("86")]),t("br"),t("span",{staticClass:"line-number"},[s._v("87")]),t("br"),t("span",{staticClass:"line-number"},[s._v("88")]),t("br"),t("span",{staticClass:"line-number"},[s._v("89")]),t("br"),t("span",{staticClass:"line-number"},[s._v("90")]),t("br"),t("span",{staticClass:"line-number"},[s._v("91")]),t("br"),t("span",{staticClass:"line-number"},[s._v("92")]),t("br"),t("span",{staticClass:"line-number"},[s._v("93")]),t("br"),t("span",{staticClass:"line-number"},[s._v("94")]),t("br"),t("span",{staticClass:"line-number"},[s._v("95")]),t("br"),t("span",{staticClass:"line-number"},[s._v("96")]),t("br"),t("span",{staticClass:"line-number"},[s._v("97")]),t("br"),t("span",{staticClass:"line-number"},[s._v("98")]),t("br"),t("span",{staticClass:"line-number"},[s._v("99")]),t("br"),t("span",{staticClass:"line-number"},[s._v("100")]),t("br"),t("span",{staticClass:"line-number"},[s._v("101")]),t("br")])]),t("h1",{attrs:{id:"å®¹å™¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å®¹å™¨"}},[s._v("#")]),s._v(" å®¹å™¨")]),s._v(" "),t("h2",{attrs:{id:"å®¹å™¨å›è°ƒ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å®¹å™¨å›è°ƒ"}},[s._v("#")]),s._v(" å®¹å™¨å›è°ƒ")]),s._v(" "),t("p",[t("strong",[s._v("Kubernetes")]),s._v(" æœ‰ä¸¤ä¸ªå›è°ƒæš´éœ²ç»™å®¹å™¨ï¼š")]),s._v(" "),t("ul",[t("li",[t("p",[t("strong",[s._v("PostStart")]),s._v("ï¼šåœ¨å®¹å™¨åˆ›å»ºåç«‹å³æ‰§è¡Œã€‚")]),s._v(" "),t("p",[s._v("ä½†æ˜¯ï¼Œå¹¶ä¸èƒ½ä¿è¯é’©å­å°†åœ¨å®¹å™¨ ENTRYPOINT ä¹‹å‰è¿è¡Œï¼Œå› ä¸ºæ²¡æœ‰å‚æ•°ä¼ é€’ç»™å¤„ç†ç¨‹åºã€‚ ä¸»è¦ç”¨äºèµ„æºéƒ¨ç½²ã€ç¯å¢ƒå‡†å¤‡ç­‰ã€‚ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯å¦‚æœé’©å­èŠ±è´¹æ—¶é—´è¿‡é•¿ä»¥åŠäºä¸èƒ½è¿è¡Œæˆ–è€…æŒ‚èµ·ï¼Œå®¹å™¨å°†ä¸èƒ½è¾¾åˆ° Running çŠ¶æ€ã€‚")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("PreStop")]),s._v("ï¼šåœ¨å®¹å™¨ç»ˆæ­¢å‰ç«‹å³è¢«è°ƒç”¨ã€‚")]),s._v(" "),t("p",[s._v("PreStop æ˜¯é˜»å¡çš„ï¼Œæ„å‘³ç€å®ƒæ˜¯åŒæ­¥çš„ï¼Œæ‰€ä»¥å®ƒå¿…é¡»åœ¨åˆ é™¤å®¹å™¨çš„è°ƒç”¨å‡ºå‘ä¹‹å‰å®Œæˆã€‚ä¸»è¦ç”¨äºä¼˜é›…å…³é—­åº”ç”¨ç¨‹åºã€é€šçŸ¥å…¶ä»–ç³»ç»Ÿç­‰ã€‚å¦‚æœå›è°ƒåœ¨æ‰§è¡ŒæœŸé—´æŒ‚èµ·ï¼ŒPod é˜¶æ®µå°†åœç•™åœ¨ Running çŠ¶æ€å¹¶ä¸”ä¸ä¼šè¾¾åˆ° failed çŠ¶æ€ã€‚")])])]),s._v(" "),t("p",[s._v("å¦‚æœ PostStart æˆ–è€… PreStop å›è°ƒå¤±è´¥ï¼Œå®ƒä¼šæ€æ­»å®¹å™¨ã€‚æ‰€ä»¥æˆ‘ä»¬åº”è¯¥è®©å›è°ƒå‡½æ•°å°½å¯èƒ½çš„è½»é‡ã€‚å½“ç„¶æœ‰äº›æƒ…å†µä¸‹ï¼Œé•¿æ—¶é—´è¿è¡Œå‘½ä»¤æ˜¯åˆç†çš„ï¼Œæ¯”å¦‚åœ¨åœæ­¢å®¹å™¨ä¹‹å‰é¢„å…ˆä¿ç•™çŠ¶æ€ã€‚")]),s._v(" "),t("blockquote",[t("p",[s._v("å¦å¤–ï¼ŒHook è°ƒç”¨çš„æ—¥å¿—æ²¡æœ‰æš´éœ²ç»™ Pod çš„ Eventï¼Œæ‰€ä»¥åªèƒ½åˆ°é€šè¿‡ "),t("code",[s._v("describe")]),s._v(" å‘½ä»¤æ¥è·å–ï¼Œå¦‚æœæ˜¯æ­£å¸¸çš„æ“ä½œæ˜¯ä¸ä¼šæœ‰ eventï¼Œå¦‚æœæœ‰é”™è¯¯å¯ä»¥çœ‹åˆ° FailedPostStartHook å’Œ FailedPreStopHook è¿™ç§ eventã€‚å¹¶ä¸”å¦‚æœ Hook è°ƒç”¨å‡ºç°é”™è¯¯ï¼Œåˆ™ Pod çŠ¶æ€ä¸ä¼šæ˜¯ Runningã€‚")])]),s._v(" "),t("h1",{attrs:{id:"pod-æ¢é’ˆ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pod-æ¢é’ˆ"}},[s._v("#")]),s._v(" Pod æ¢é’ˆ")]),s._v(" "),t("h2",{attrs:{id:"pod-æ¢é’ˆç±»å‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pod-æ¢é’ˆç±»å‹"}},[s._v("#")]),s._v(" Pod æ¢é’ˆç±»å‹")]),s._v(" "),t("ul",[t("li",[t("p",[t("strong",[s._v("StartupProbe")]),s._v("ï¼šç”¨äºåˆ¤æ–­å®¹å™¨å†…åº”ç”¨ç¨‹åºæ˜¯å¦å·²ç»å¯åŠ¨ã€‚å¦‚æœé…ç½®äº†startupProbeï¼Œå°±ä¼šå…ˆç¦æ­¢å…¶ä»–çš„æ¢æµ‹ï¼Œç›´åˆ°æ­¤æ¢é’ˆæˆåŠŸä¸ºæ­¢ï¼ŒæˆåŠŸåå°†ä¸å†è¿›è¡Œæ¢æµ‹ã€‚")]),s._v(" "),t("p",[s._v("å¦‚æœå¯åŠ¨æ¢æµ‹å¤±è´¥ï¼Œkubelet ä¼šæ€æ­»å®¹å™¨ï¼Œå¹¶æ ¹æ®å®¹å™¨é‡å¯ç­–ç•¥å¤„ç†ã€‚å¦‚æœæ²¡æœ‰é…ç½®è¯¥æ¢é’ˆï¼Œé»˜è®¤çŠ¶æ€ä¸º Successã€‚")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("LivenessProbe")]),s._v("ï¼šç”¨äºæ¢æµ‹å®¹å™¨æ˜¯å¦æ­£åœ¨è¿è¡Œã€‚")]),s._v(" "),t("p",[s._v("å¦‚æœæ¢æµ‹å¤±è´¥ï¼Œkubelet ä¼šæ€æ­»å®¹å™¨ï¼Œå¹¶æ ¹æ®å®¹å™¨é‡å¯ç­–ç•¥å¤„ç†ã€‚è‹¥æ²¡æœ‰é…ç½®è¯¥æ¢é’ˆï¼Œé»˜è®¤å°±æ˜¯ Successã€‚")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("ReadinessProbe")]),s._v("ï¼šåˆ¤æ–­æ˜¯å¦å‡†å¤‡å¥½ä¸ºè¯·æ±‚æä¾›æœåŠ¡ï¼Œä¸€èˆ¬ç”¨äºæ¢æµ‹å®¹å™¨å†…çš„ç¨‹åºæ˜¯å¦å¥åº·ã€‚å¦‚æœæ¢æµ‹æˆåŠŸï¼Œé‚£ä¹ˆä¹…ä»£è¡¨è¿™ä¸ªå®¹å™¨å·²ç»å®Œæˆå¯åŠ¨ï¼Œå¹¶ä¸”ç¨‹åºå·²ç»æ˜¯å¯ä»¥æ¥å—æµé‡çš„çŠ¶æ€ã€‚")]),s._v(" "),t("p",[s._v("è‹¥å¤±è´¥ï¼Œå°†å¯åŒ¹é…ä¸Šè¯¥ Pod çš„ Service çš„ Endpoint åˆ—è¡¨ä¸­ç§»é™¤è¯¥ Pod çš„ IP åœ°å€ã€‚åˆå§‹å»¶è¿Ÿä¹‹å‰æ¢æµ‹çŠ¶æ€é»˜è®¤ä¸º Failureã€‚")])])]),s._v(" "),t("h2",{attrs:{id:"pod-æ¢é’ˆçš„æ£€æµ‹æ–¹å¼"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pod-æ¢é’ˆçš„æ£€æµ‹æ–¹å¼"}},[s._v("#")]),s._v(" Pod æ¢é’ˆçš„æ£€æµ‹æ–¹å¼")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("ExecAction")]),s._v("ï¼šåœ¨å®¹å™¨å†…æ‰§è¡Œä¸€ä¸ªå‘½ä»¤ï¼Œå¦‚æœè¿”å›å€¼ä¸º 0ï¼Œåˆ™è®¤ä¸ºå®¹å™¨å¥åº·ã€‚")]),s._v(" "),t("li",[t("strong",[s._v("TCPSocketAction")]),s._v("ï¼šé€šè¿‡ TCP è¿æ¥æ£€æŸ¥å®¹å™¨å†…çš„ç«¯å£æ˜¯å¦æ˜¯é€šçš„ï¼Œå¦‚æœæ˜¯é€šçš„å°±è®¤ä¸ºå®¹å™¨å¥åº·ã€‚")]),s._v(" "),t("li",[t("strong",[s._v("HTTPGetAction")]),s._v("ï¼šé€šè¿‡åº”ç”¨ç¨‹åºæš´éœ²çš„ API åœ°å€æ¥æ£€æŸ¥ç¨‹åºæ˜¯å¦æ˜¯æ­£å¸¸çš„ï¼Œå¦‚æœçŠ¶æ€ç ä¸º 200~400 ä¹‹é—´ï¼Œåˆ™è®¤ä¸ºå®¹å™¨å¥åº·ã€‚")])]),s._v(" "),t("h2",{attrs:{id:"æ¢é’ˆæ£€æŸ¥å‚æ•°é…ç½®"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ¢é’ˆæ£€æŸ¥å‚æ•°é…ç½®"}},[s._v("#")]),s._v(" æ¢é’ˆæ£€æŸ¥å‚æ•°é…ç½®")]),s._v(" "),t("ul",[t("li",[s._v("initialDelaySeconds: 60  # åˆå§‹åŒ–æ—¶é—´")]),s._v(" "),t("li",[s._v("timeoutSeconds: 2        # æ£€æµ‹åŠ¨ä½œçš„è¶…æ—¶æ—¶é—´")]),s._v(" "),t("li",[s._v("periodSeconds: 5         # æ£€æµ‹é—´éš”")]),s._v(" "),t("li",[s._v("successThreshold: 1        # æ£€æŸ¥æˆåŠŸä¸º1æ¬¡è¡¨ç¤ºå°±ç»ª")]),s._v(" "),t("li",[s._v("failureThreshold: 2          # æ£€æµ‹å¤±è´¥2æ¬¡è¡¨ç¤ºæœªå°±ç»ª")])]),s._v(" "),t("aside",[s._v(" ğŸ’¡ æµç¨‹æ˜¯å…ˆç­‰å¾… initialDelaySeconds æ—¶é—´æ‰å¼€å§‹è¿›è¡Œå‘¨æœŸæ€§æ£€æµ‹ï¼Œç›´åˆ°è¾¾åˆ° successThreshold æˆ–è€… failureThreshold çš„é˜ˆå€¼ï¼Œåˆ¤å®šæ£€æµ‹æ˜¯å¦æˆåŠŸã€‚ æ¯ä¸€æ¬¡æ£€æµ‹å¼€å§‹åï¼Œå¾—åˆ°æˆåŠŸã€å¤±è´¥ã€timeoutSeconds ç§’åè¶…æ—¶ï¼Œä¸‰ç§æƒ…å†µåï¼Œç­‰å¾… periodSeconds ç§’åå†æ¬¡æ£€æµ‹ã€‚\n")]),s._v(" "),t("h1",{attrs:{id:"pod-ç»ˆæ­¢æµç¨‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pod-ç»ˆæ­¢æµç¨‹"}},[s._v("#")]),s._v(" Pod ç»ˆæ­¢æµç¨‹")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("ç”¨æˆ·å‘é€å‘½ä»¤åˆ é™¤ Podï¼ŒPod è¿›å…¥TerminatingçŠ¶æ€")])]),s._v(" "),t("li",[t("p",[s._v("å½“ kubelet çœ‹åˆ° Pod å·²è¢«æ ‡è®°ç»ˆæ­¢ï¼Œå¼€å§‹æ‰§è¡Œ Pod å…³é—­è¿‡ç¨‹")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("å¦‚æœè®¾ç½®äº† preStop å›è°ƒï¼Œå¼€å§‹æ‰§è¡Œå›è°ƒé€»è¾‘ã€‚å¦‚æœå›è°ƒé€»è¾‘è¶…è¿‡ grace periodï¼ˆé»˜è®¤ 30sï¼‰è¿˜æ²¡ç»“æŸï¼Œkubelet å…è®¸ä¸€æ¬¡æ€§å®½é™ 2 ç§’ã€‚")]),s._v(" "),t("blockquote",[t("p",[s._v("å¦‚æœæƒ³ä¿è¯çš„ preStop æ‰§è¡Œå®Œï¼Œé¡»ä¿®æ”¹ terminationGracePeriodSeconds")])])]),s._v(" "),t("li",[t("p",[s._v("kubelet æ§åˆ¶ç»™å®¹å™¨è¿›ç¨‹ 1 å‘é€ TERM ä¿¡å·")])])])]),s._v(" "),t("li",[t("p",[s._v("ä¸æ­¤åŒæ—¶ï¼ŒService æ‘˜é™¤ Pod èŠ‚ç‚¹")])]),s._v(" "),t("li",[t("p",[s._v("è¶…å‡ºç»ˆæ­¢å®½é™æœŸé™æ—¶ï¼Œkubelet ä¼šå¼ºåˆ¶å…³é—­å®¹å™¨ï¼Œç„¶ååˆ é™¤ Pod")])])]),s._v(" "),t("p",[s._v("è¯¦ç»†è¿‡ç¨‹å¯å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š"),t("a",{attrs:{href:"https://kubernetes.io/zh/docs/concepts/workloads/pods/pod-lifecycle/#pod-termination",target:"_blank",rel:"noopener noreferrer"}},[s._v("Pod#Pod çš„ç»ˆæ­¢"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("Prestopï¼šå…ˆå»è¯·æ±‚ eureka æ¥å£ï¼ŒæŠŠè‡ªå·±çš„IPåœ°å€å’Œç«¯å£å·ï¼Œè¿›è¡Œä¸‹çº¿ï¼Œeureka ä»æ³¨å†Œè¡¨ä¸­åˆ é™¤è¯¥åº”ç”¨çš„ IP åœ°å€ã€‚ç„¶åå®¹å™¨è¿›è¡Œ sleep 90ï¼›kill "),t("code",[s._v("pgrep java")])]),s._v(" "),t("h1",{attrs:{id:"å®è·µ-åŸºäº-prestop-çš„é›¶å®•æœºæ¼”ç¤º"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å®è·µ-åŸºäº-prestop-çš„é›¶å®•æœºæ¼”ç¤º"}},[s._v("#")]),s._v(" å®è·µï¼šåŸºäº PreStop çš„é›¶å®•æœºæ¼”ç¤º")]),s._v(" "),t("blockquote",[t("p",[s._v("æ¬è¿è‡ªæ–‡ç« ï¼š****"),t("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/91651478",target:"_blank",rel:"noopener noreferrer"}},[s._v("Kubernetes ä¼˜é›…åœæ­¢Pod"),t("OutboundLink")],1),s._v("****")])]),s._v(" "),t("p",[s._v("**èµ·å› :**åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨springæ¡†æ¶ï¼Œç”±äºæœåŠ¡æ›´æ–°è¿‡ç¨‹ä¸­ï¼ŒæœåŠ¡å®¹å™¨è¢«ç›´æ¥å……å€¼ï¼Œéƒ¨åˆ†è¯·æ±‚ä»è¢«åˆ†å‘åˆ°ç»ˆæ­¢çš„å®¹å™¨(æ²¡æœ‰é…ç½®é’©å­ï¼Œç†Ÿæ‚‰é»˜è®¤ç¯å¢ƒ)ï¼Œå¯¼è‡´æœåŠ¡å‡ºç°500é”™è¯¯ï¼Œè¿™éƒ¨åˆ†é”™è¯¯è¯·æ±‚æ•°æ®å ç”¨æ¯”è¾ƒå°‘ï¼Œå› ä¸ºPodæ»šåŠ¨æ›´æ–°éƒ½æ˜¯ä¸€å¯¹ä¸€ã€‚å› ä¸ºéƒ¨åˆ†ç”¨æˆ·ä¼šäº§ç”ŸæœåŠ¡å™¨é”™è¯¯çš„æƒ…å†µï¼Œè€ƒè™‘ä½¿ç”¨ä¼˜é›…çš„ç»ˆæ­¢æ–¹å¼ï¼Œå°†é”™è¯¯è¯·æ±‚é™åˆ°æœ€ä½ï¼Œç›´è‡³æ»šåŠ¨æ›´æ–°ä¸å½±å“ç”¨æˆ·")]),s._v(" "),t("p",[s._v("Eurekaæ˜¯ä¸€ä¸ªåŸºäºRESTçš„æœåŠ¡ï¼Œä½œä¸ºSpring CloudæœåŠ¡æ³¨å†Œä¸­å¿ƒï¼Œç”¨äºå®šä½æœåŠ¡æ¥è¿›è¡Œä¸­é—´å±‚æœåŠ¡å™¨çš„è´Ÿè½½å‡è¡¡å’Œæ•…éšœè½¬ç§»ã€‚å„æœåŠ¡å¯åŠ¨æ—¶ï¼Œä¼šå‘Eureka Serveræ³¨å†Œè‡ªå·±çš„ä¿¡æ¯(IPã€ç«¯å£ã€æœåŠ¡ä¿¡æ¯ç­‰)ï¼ŒEureka Serverä¼šå­˜å‚¨è¿™äº›ä¿¡æ¯ï¼Œå¾®æœåŠ¡å¯åŠ¨åï¼Œä¼šå‘¨æœŸæ€§(é»˜è®¤30ç§’)çš„å‘Eureka Serverå‘é€å¿ƒè·³ä»¥ç»­çº¦è‡ªå·±çš„ç§ŸæœŸï¼Œå¹¶ä¸”å¯ä»¥ä»eurekaä¸­è·å–å…¶ä»–å¾®æœåŠ¡çš„åœ°å€ä¿¡æ¯ï¼Œæ‰§è¡Œç›¸å…³é€»è¾‘")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://pic2.zhimg.com/v2-e05a755d609ef7cbb4ce97f5f40f5035_b.jpg",alt:"https://pic2.zhimg.com/v2-e05a755d609ef7cbb4ce97f5f40f5035_b.jpg"}})]),s._v(" "),t("p",[s._v("ç”±äºEurekaé»˜è®¤çš„å¿ƒè·³æ£€æµ‹ä¸º30ç§’ï¼Œå½“K8Sä¸‹çº¿Podæ—¶Eurekaä¼šæœ‰30ç§’çš„å¼‚å¸¸é—®é¢˜ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨Pod åœæ­¢å‰å‘é€ä¸€æ¡è¯·æ±‚ï¼Œé€šçŸ¥Eurekaè¿›è¡Œä¸‹çº¿æ“ä½œï¼Œè¿™æ ·è¿›è¡Œä¼˜é›…çš„åœæ­¢å¯¹ç”¨æˆ·çš„å½±å“åšåˆ°æœ€å°")]),s._v(" "),t("p",[s._v("å…·ä½“yamlå¦‚ä¸‹")]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" v1\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Pod\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" abcdocker\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("labels")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" abcdocker\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("containers")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" abcdocker\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" nginx\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ports")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("containerPort")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("lifecycle")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("preStop")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("exec")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("command")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" bash\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("c\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" 'curl "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("X POST "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("data DOWN <http"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("//127.0.0.1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("8080/service"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("registry/instance"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("status"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v('H\n              "Content'),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("Type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" application/vnd.spring"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("boot.actuator.v2+json;charset=UTF"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("8\";sleep 30'\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("####### å‚æ•°è§£é‡Š #######")]),s._v("\n127.0.0.1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ä»£è¡¨eurekaåœ°å€")]),s._v("\nservice"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("registry    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ä»£è¡¨æ³¨å†Œä¸­å¿ƒ")]),s._v("\nDOWN        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æ‰§è¡Œdownè¯·æ±‚")]),s._v("\nsleep       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ç­‰å¾…30ç§’")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br")])]),t("p",[s._v("å½“æˆ‘ä»¬åˆ é™¤ Pod çš„æ—¶å€™å°±ä¼šæ‰§è¡Œä¸Šé¢çš„å‘½ä»¤æ“ä½œï¼Œå¹¶ä¸”ç­‰å¾…30ç§’")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@yzsjhl82-135 yaml"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kubectl get pod")]),s._v("\nNAME        READY   STATUS    RESTARTS   AGE\nabcdocker   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          2m16s\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@yzsjhl82-135 yaml"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kubectl delete pod abcdocker")]),s._v("\npod "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"abcdocker"')]),s._v(" deleted\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æ­¤åˆ»Podä¸ä¼šé©¬ä¸Šåˆ é™¤ï¼Œè€Œæ˜¯æ‰§è¡ŒExecä¸­çš„å‘½ä»¤ï¼Œå¹¶ç­‰å¾…30ç§’")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("é…ç½®ä¸­æ·»åŠ äº†ä¸€ä¸ª sleep æ—¶é—´ï¼Œä¸»è¦æ˜¯ä½œä¸ºæœåŠ¡åœæ­¢çš„ç¼“å†²æ—¶é—´")]),s._v(" "),t("h1",{attrs:{id:"é™„å½•-ç›¸å…³å®˜æ–¹æ–‡æ¡£"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#é™„å½•-ç›¸å…³å®˜æ–¹æ–‡æ¡£"}},[s._v("#")]),s._v(" é™„å½•ï¼šç›¸å…³å®˜æ–¹æ–‡æ¡£")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://kubernetes.io/zh/docs/concepts/containers/container-lifecycle-hooks/",target:"_blank",rel:"noopener noreferrer"}},[s._v("å®¹å™¨ç”Ÿå‘½å‘¨æœŸå›è°ƒ"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://kubernetes.io/zh/docs/tasks/configure-pod-container/attach-handler-lifecycle-event/",target:"_blank",rel:"noopener noreferrer"}},[s._v("ä¸ºå®¹å™¨çš„ç”Ÿå‘½å‘¨æœŸäº‹ä»¶è®¾ç½®å¤„ç†å‡½æ•°"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://kubernetes.io/zh/docs/concepts/workloads/pods/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Pods"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://kubernetes.io/zh/docs/concepts/workloads/pods/pod-lifecycle/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Pod çš„ç”Ÿå‘½å‘¨æœŸ"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://kubernetes.io/zh/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/",target:"_blank",rel:"noopener noreferrer"}},[s._v("é…ç½®å­˜æ´»ã€å°±ç»ªå’Œå¯åŠ¨æ¢æµ‹å™¨"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=e.exports}}]);