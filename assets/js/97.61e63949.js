(window.webpackJsonp=window.webpackJsonp||[]).push([[97],{422:function(s,a,t){"use strict";t.r(a);var n=t(4),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"label-å’Œ-selector"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#label-å’Œ-selector"}},[s._v("#")]),s._v(" Label å’Œ Selector")]),s._v(" "),a("ul",[a("li",[s._v("Labelï¼šå¯¹k8sä¸­å„ç§èµ„æºè¿›è¡Œåˆ†ç±»ã€åˆ†ç»„ï¼Œæ·»åŠ ä¸€ä¸ªå…·æœ‰ç‰¹åˆ«å±æ€§çš„ä¸€ä¸ªæ ‡ç­¾")]),s._v(" "),a("li",[s._v("Selectorï¼šé€šè¿‡ä¸€ä¸ªè¿‡æ»¤çš„è¯­æ³•è¿›è¡ŒæŸ¥æ‰¾åˆ°å¯¹åº”æ ‡ç­¾çš„èµ„æº")])]),s._v(" "),a("p",[s._v("å½“Kuberneteså¯¹ç³»ç»Ÿçš„ä»»ä½•APIå¯¹è±¡å¦‚Podå’ŒèŠ‚ç‚¹è¿›è¡Œâ€œåˆ†ç»„â€æ—¶ï¼Œä¼šå¯¹å…¶æ·»åŠ Labelï¼ˆkey=valueå½¢å¼çš„â€œé”®-å€¼å¯¹â€ï¼‰ç”¨ä»¥ç²¾å‡†åœ°é€‰æ‹©å¯¹åº”çš„APIå¯¹è±¡ã€‚è€ŒSelectorï¼ˆæ ‡ç­¾é€‰æ‹©å™¨ï¼‰åˆ™æ˜¯é’ˆå¯¹åŒ¹é…å¯¹è±¡çš„æŸ¥è¯¢æ–¹æ³•ã€‚æ³¨ï¼šé”®-å€¼å¯¹å°±æ˜¯key-value pairã€‚")]),s._v(" "),a("p",[s._v("ä¾‹å¦‚ï¼Œå¸¸ç”¨çš„æ ‡ç­¾tierå¯ç”¨äºåŒºåˆ†å®¹å™¨çš„å±æ€§ï¼Œå¦‚frontendã€backendï¼›æˆ–è€…ä¸€ä¸ªrelease_trackç”¨äºåŒºåˆ†å®¹å™¨çš„ç¯å¢ƒï¼Œå¦‚canaryã€productionç­‰ã€‚")]),s._v(" "),a("blockquote",[a("p",[s._v("ğŸ’¡ éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œå¯¹è¢« Deployment ç­‰é«˜çº§èµ„æºç®¡ç†çš„ Podï¼Œæ‰‹åŠ¨æ·»åŠ æˆ–ä¿®æ”¹çš„æ ‡ç­¾æ˜¯ä¸´æ—¶çš„ï¼Œä¸‹æ¬¡æ»šåŠ¨æ›´æ–°å°±ä¼šæ¢å¤ã€‚æŒä¹…ä¿®æ”¹åº”è¯¥é€šè¿‡ Deployment ç­‰æ–¹å¼ä¿®æ”¹ã€‚")])]),s._v(" "),a("h1",{attrs:{id:"å®šä¹‰-label"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®šä¹‰-label"}},[s._v("#")]),s._v(" å®šä¹‰ Label")]),s._v(" "),a("p",[s._v("åº”ç”¨æ¡ˆä¾‹ï¼š")]),s._v(" "),a("p",[s._v("å…¬å¸ä¸ xx é“¶è¡Œæœ‰ä¸€æ¡ä¸“å±çš„é«˜é€Ÿå…‰çº¤é€šé“ï¼Œæ­¤é€šé“åªèƒ½ä¸ 192.168.7.0 ç½‘æ®µè¿›è¡Œé€šä¿¡ï¼Œå› æ­¤åªèƒ½å°†ä¸ xx é“¶è¡Œé€šä¿¡çš„åº”ç”¨éƒ¨ç½²åˆ° 192.168.7.0 ç½‘æ®µæ‰€åœ¨çš„èŠ‚ç‚¹ä¸Šï¼Œæ­¤æ—¶å¯ä»¥å¯¹èŠ‚ç‚¹è¿›è¡Œ Labelï¼ˆå³åŠ æ ‡ç­¾ï¼‰ï¼š")]),s._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[s._v("[root@k8s-master01 ~]# kubectl label node k8s-node02 region=subnet7\nnode/k8s-node02 labeled\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("ç„¶åï¼Œå¯ä»¥é€šè¿‡ Selector å¯¹å…¶ç­›é€‰ï¼š")]),s._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[s._v("[root@k8s-master01 ~]# kubectl get no -l region=subnet7\nNAME         STATUS   ROLES    AGE     VERSION\nk8s-node02   Ready    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("none")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("   3d17h   v1.17.3\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("æœ€åï¼Œåœ¨ Deployment æˆ–å…¶ä»–æ§åˆ¶å™¨ä¸­æŒ‡å®šå°† Pod éƒ¨ç½²åˆ°è¯¥èŠ‚ç‚¹")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("containers")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("...")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("...")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("dnsPolicy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ClusterFirst\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("nodeSelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("region")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" subnet7\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("restartPolicy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Always\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("...")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("...")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("ä¹Ÿå¯ä»¥ç”¨åŒæ ·çš„æ–¹å¼å¯¹ Service è¿›è¡Œ Labelï¼š")]),s._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[s._v("[root@k8s-master01 ~]# kubectl label svc canary-v1 -n canary-production env=canary version=v1\nservice/canary-v1 labeled\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("æŸ¥çœ‹ Labelsï¼š")]),s._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[s._v("[root@k8s-master01 ~]# kubectl get svc -n canary-production --show-labels\nNAME        TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)    AGE   LABELS\ncanary-v1   ClusterIP   10.110.253.62   "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("none")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("        8080/TCP   24h   env=canary,version=v1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("è¿˜å¯ä»¥æŸ¥çœ‹æ‰€æœ‰ Version ä¸º v1 çš„ svc")]),s._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[s._v("[root@k8s-master01 canary]# kubectl get svc --all-namespaces -l version=v1\nNAMESPACE           NAME        TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)    AGE\ncanary-production   canary-v1   ClusterIP   10.110.253.62   "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("none")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("        8080/TCP   25h\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("å…¶ä»–èµ„æºçš„ Label æ–¹å¼ç›¸åŒã€‚")]),s._v(" "),a("h1",{attrs:{id:"selector-æ¡ä»¶åŒ¹é…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#selector-æ¡ä»¶åŒ¹é…"}},[s._v("#")]),s._v(" Selector æ¡ä»¶åŒ¹é…")]),s._v(" "),a("p",[s._v("Selector ä¸»è¦ç”¨äºèµ„æºçš„åŒ¹é…ï¼Œåªæœ‰ç¬¦åˆæ¡ä»¶çš„èµ„æºæ‰ä¼šè¢«è°ƒç”¨æˆ–ä½¿ç”¨ï¼Œå¯ä»¥ä½¿ç”¨è¯¥æ–¹å¼å¯¹é›†ç¾¤ä¸­çš„å„ç±»èµ„æºè¿›è¡Œåˆ†é…ã€‚")]),s._v(" "),a("p",[s._v("å‡å¦‚å¯¹ Selector è¿›è¡Œæ¡ä»¶åŒ¹é…ï¼Œç›®å‰å·²æœ‰çš„ Label å¦‚ä¸‹ï¼š")]),s._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[s._v("[root@k8s-master01 ~]# kubectl get svc --show-labels\nNAME          TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)    AGE     LABELS\ndetails       ClusterIP   10.99.9.178      "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("none")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("        9080/TCP   45h     app=details\nkubernetes    ClusterIP   10.96.0.1        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("none")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("        443/TCP    3d19h   component=apiserver,provider=kubernetes\nnginx         ClusterIP   10.106.194.137   "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("none")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("        80/TCP     2d21h   app=productpage,version=v1\nnginx-v2      ClusterIP   10.108.176.132   "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("none")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("        80/TCP     2d20h   "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("none")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\nproductpage   ClusterIP   10.105.229.52    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("none")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("        9080/TCP   45h     app=productpage,tier=frontend\nratings       ClusterIP   10.96.104.95     "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("none")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("        9080/TCP   45h     app=ratings\nreviews       ClusterIP   10.102.188.143   "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("none")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("        9080/TCP   45h     app=reviews\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("p",[s._v("é€‰æ‹© app ä¸º reviews æˆ–è€… productpage çš„ svcï¼š")]),s._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[s._v("[root@k8s-master01 ~]# kubectl get svc -l  'app in (details, productpage)' --show-labels\nNAME          TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)    AGE     LABELS\ndetails       ClusterIP   10.99.9.178      "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("none")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("        9080/TCP   45h     app=details\nnginx         ClusterIP   10.106.194.137   "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("none")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("        80/TCP     2d21h   app=productpage,version=v1\nproductpage   ClusterIP   10.105.229.52    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("none")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("        9080/TCP   45h     app=productpage,tier=frontend\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("é€‰æ‹© app ä¸º productpage æˆ– reviews ä½†ä¸åŒ…æ‹¬ version=v1 çš„ svcï¼š")]),s._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[s._v("[root@k8s-master01 ~]# kubectl get svc -l  version!=v1,'app in (details, productpage)' --show-labels\nNAME          TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)    AGE   LABELS\ndetails       ClusterIP   10.99.9.178     "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("none")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("        9080/TCP   45h   app=details\nproductpage   ClusterIP   10.105.229.52   "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("none")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("        9080/TCP   45h   app=productpage,tier=frontend\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("é€‰æ‹©åŒ…å« label åä¸º app çš„ svcï¼Œä¸é™åˆ¶ label å€¼ï¼š")]),s._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[s._v("[root@k8s-master01 ~]# kubectl get svc -l app --show-labels\nNAME          TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)    AGE     LABELS\ndetails       ClusterIP   10.99.9.178      "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("none")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("        9080/TCP   45h     app=details\nnginx         ClusterIP   10.106.194.137   "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("none")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("        80/TCP     2d21h   app=productpage,version=v1\nproductpage   ClusterIP   10.105.229.52    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("none")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("        9080/TCP   45h     app=productpage,tier=frontend\nratings       ClusterIP   10.96.104.95     "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("none")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("        9080/TCP   45h\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h1",{attrs:{id:"ä¿®æ”¹-label"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¿®æ”¹-label"}},[s._v("#")]),s._v(" ä¿®æ”¹ Label")]),s._v(" "),a("p",[s._v("åœ¨å®é™…ä½¿ç”¨ä¸­ï¼ŒLabel çš„æ›´æ”¹æ˜¯ç»å¸¸å‘ç”Ÿçš„äº‹æƒ…ï¼Œå¯ä»¥ä½¿ç”¨ "),a("code",[s._v("--overwrite")]),s._v(" å‚æ•°ä¿®æ”¹æ ‡ç­¾ã€‚")]),s._v(" "),a("p",[s._v("ä¿®æ”¹æ ‡ç­¾ï¼Œæ¯”å¦‚å°† version=v1 æ”¹ä¸º version=v2ï¼š")]),s._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[s._v("[root@k8s-master01 canary]# kubectl get svc -n canary-production --show-labels\nNAME        TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)    AGE   LABELS\ncanary-v1   ClusterIP   10.110.253.62   "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("none")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("        8080/TCP   26h   env=canary,version=v1\n[root@k8s-master01 canary]# kubectl label svc canary-v1 -n canary-production version=v2 --overwrite\nservice/canary-v1 labeled\n[root@k8s-master01 canary]# kubectl get svc -n canary-production --show-labels\nNAME        TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)    AGE   LABELS\ncanary-v1   ClusterIP   10.110.253.62   "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("none")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("        8080/TCP   26h   env=canary,version=v2\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h1",{attrs:{id:"åˆ é™¤-label"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ é™¤-label"}},[s._v("#")]),s._v(" åˆ é™¤ Label")]),s._v(" "),a("p",[s._v("åˆ é™¤æ ‡ç­¾ï¼Œæ¯”å¦‚åˆ é™¤ versionï¼š")]),s._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[s._v("[root@k8s-master01 canary]# kubectl label svc canary-v1 -n canary-production version-\nservice/canary-v1 labeled\n[root@k8s-master01 canary]# kubectl get svc -n canary-production --show-labels\nNAME        TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)    AGE   LABELS\ncanary-v1   ClusterIP   10.110.253.62   "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("none")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("        8080/TCP   26h   env=canary\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h1",{attrs:{id:"é™„å½•-ç›¸å…³å®˜æ–¹æ–‡æ¡£"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é™„å½•-ç›¸å…³å®˜æ–¹æ–‡æ¡£"}},[s._v("#")]),s._v(" é™„å½•ï¼šç›¸å…³å®˜æ–¹æ–‡æ¡£")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://kubernetes.io/zh/docs/concepts/overview/working-with-objects/labels/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Label å’Œ Selector"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=e.exports}}]);